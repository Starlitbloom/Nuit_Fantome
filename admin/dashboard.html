<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Admin</title>
<link rel="icon" href="../assets/img/icono_pag.png" type="image/png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap">

<style>
  :root{
    --bg:#0f0321; --card:#111025; --ink:#e9e6ff; --muted:#bdb9d8;
    --line:#2b2550; --primary:#7c3aed; --primary-2:#a78bfa;
    --success:#22c55e; --danger:#ef4444; --warning:#f59e0b;
  }
  *{box-sizing:border-box;margin:0;padding:0;}
  body{font-family:'Merriweather', serif;background:var(--bg);color:var(--ink);}
  a{color:inherit;text-decoration:none;}
  ul{list-style:none;}

  /* Layout */
  .wrapper{display:flex;height:100vh;overflow:hidden;}
  .sidebar{
    width:220px;background:var(--card);display:flex;flex-direction:column;
  }
  .sidebar h2{color:var(--primary);text-align:center;padding:20px 0;font-size:22px;}
  .sidebar ul li{padding:14px 20px;cursor:pointer;display:flex;align-items:center;gap:12px;transition:0.3s;}
  .sidebar ul li:hover, .sidebar ul li.active{background:var(--primary-2);color:#fff;}
  .sidebar ul li i{width:20px;text-align:center;}

  .main{flex:1;display:flex;flex-direction:column;overflow-y:auto;}

  /* Topbar */
  .topbar{display:flex;justify-content:space-between;align-items:center;padding:14px 20px;border-bottom:1px solid var(--line);}
  .topbar .left h1{font-size:30px;font-weight: 700;}
  .topbar .right{display:flex;align-items:center;gap:15px;}
  .topbar .right i{cursor:pointer;font-size:18px;}

  /* Sidebar */
  /* Sidebar con diseño */
  .sidebar{
    width:240px;
    background:
      radial-gradient(1200px 600px at 10% -20%, rgba(124,58,237,.28), transparent 60%),
      radial-gradient(900px 500px at 90% 10%, rgba(167,139,250,.22), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0)),
      var(--card);
    color:var(--ink);
    display:flex;flex-direction:column;
    position:relative;
  }
  .sidebar .logo{
    text-align:center;padding:20px 0;
  }
  .sidebar .logo img{width:220px;height:auto;}
  .sidebar h2{color:var(--primary);text-align:center;margin-bottom:15px;font-size:22px;}
  .sidebar ul li{padding:14px 20px;cursor:pointer;display:flex;align-items:center;gap:12px;transition:0.3s;}
  .sidebar ul li:hover, .sidebar ul li.active{background:var(--primary-2);color:#fff;}
  .sidebar ul li i{width:20px;text-align:center;}

  /* Estrellitas flotantes */
  .spark{
    position:absolute;width:14px;height:14px;border-radius:50%;
    background:radial-gradient(#fff,rgba(255,255,255,.1));
    filter:drop-shadow(0 0 10px #fff);
    animation:float 8s linear infinite;
  }
  .spark.s1{left:8%; top:28%; animation-duration:7.5s;}
  .spark.s2{left:82%; top:22%;}
  .spark.s3{left:18%; top:70%; animation-duration:9s;}
  .spark.s4{left:72%; top:68%; animation-duration:10s;}
  @keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}

  /* Main */
  .main{flex:1;display:flex;flex-direction:column;overflow-y:auto;}
  .topbar{display:flex;justify-content:space-between;align-items:center;padding:14px 20px;border-bottom:1px solid var(--line);}
  .topbar .left h1{font-size:20px;}
  .topbar .right{display:flex;align-items:center;gap:15px;}
  .topbar .right i{cursor:pointer;font-size:18px;}
  .topbar .right .user{display:flex;align-items:center;gap:10px;}
  .topbar .right .user img{width:35px;height:35px;border-radius:50%;object-fit:cover;}

  /* Container */
  .container{width:min(1200px,94%);margin:20px auto}

  /* Cards */
  .cards{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:30px;}
  .card{flex:1;min-width:150px;background:var(--card);padding:20px;border-radius:14px;text-align:center;box-shadow:0 6px 18px rgba(124,58,237,.2);}
  .card h3{margin:0;font-size:28px;}
  .card p{margin:6px 0;}
  .positivo{color:var(--success);}
  .negativo{color:var(--danger);}

  /* Perfil + ingresos */
  .perfil-ingresos{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:30px;}
  .perfil-card{flex:2;display:flex;background:var(--card);padding:20px;border-radius:14px;position:relative;gap:20px;align-items:center;}
  .perfil-card img{width:120px;height:120px;border-radius:50%;object-fit:cover;}
  .perfil-info h2{margin:0;font-size:24px;}
  .perfil-info p{margin:4px 0;color:var(--muted);}
  .editar{position:absolute;top:15px;right:15px;font-size:20px;cursor:pointer;color:var(--primary);}
  .ingresos-card{flex:1;background:var(--card);padding:20px;border-radius:14px;text-align:center;}
  .ingresos-card h2{margin:10px 0;font-size:26px;}

  /* Tabla */
  .table-wrap{background:var(--card);border:1px solid var(--line);border-radius:14px;overflow:auto;margin-bottom:30px;}
  table{width:100%;border-collapse:collapse;}
  th,td{padding:12px;border-bottom:1px solid var(--line);text-align:center;font-size:14px;}
  th{position:sticky;top:0;background:#151237;}
  tr:hover td{background:#120f2c;}

  /* Gráfico */
  .grafico{background:var(--card);padding:20px;border-radius:14px;}
  .grafico-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}
  .selector{display:flex;gap:10px;}
  .selector button{padding:5px 10px;border:none;border-radius:8px;background:#1a1633;color:var(--ink);cursor:pointer;}
  .selector button.active{background:linear-gradient(90deg,var(--primary),var(--primary-2));color:#fff;}
</style>
</head>
<body>

<div class="wrapper">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo">
      <img src="../assets/img/logo.png" alt="Logo Empresa">
    </div>
    <h2>Admin</h2>
    <ul>
      <li class="active"><a href="./dashboard.html"><i class="fa fa-chart-line"></i>Dashboard</a></li>
      <li><a href="./productos.html"><i class="fa fa-box"></i>Productos</a></li>
      <li><a href="./pedidos.html"><i class="fa fa-shopping-cart"></i>Pedidos</a></li>
      <li><a href="./usuario.html"><i class="fa fa-users"></i>Usuarios</a></li>
      <li><a href="../index.html" target="_blank"><i class="fa fa-globe"></i>Ver sitio</a></li>
    </ul>
    <!-- Estrellitas -->
    <div class="spark s1"></div>
    <div class="spark s2"></div>
    <div class="spark s3"></div>
    <div class="spark s4"></div>
  </div>

  <!-- Main -->
  <div class="main">
    <!-- Topbar -->
    <div class="topbar">
      <div class="left">
        <h1 id="tituloBienvenida">Bienvenido!</h1>
      </div>
      <div class="right">
        <i class="fa fa-bell"></i>
      </div>
    </div>

    <div class="container">
      <!-- Cards métricas -->
      <div class="cards">
        <div class="card">
          <h3>12,345</h3>
          <p>Visitas</p>
          <span class="positivo">+5%</span>
        </div>
        <div class="card">
          <h3>320</h3>
          <p>Pedidos</p>
          <span class="negativo">-2%</span>
        </div>
        <div class="card">
          <h3>$1.200.000</h3>
          <p>Ingresos</p>
          <span class="positivo">+12%</span>
        </div>
        <div class="card">
          <h3>980</h3>
          <p>Usuarios</p>
          <span class="positivo">+10%</span>
        </div>
      </div>

      <!-- Perfil e ingresos -->
      <div class="perfil-ingresos">
        <div class="perfil-card">
          <img src="https://via.placeholder.com/120" alt="Usuario">
          <div class="perfil-info">
            <h2 id="perfilNombre">Usuario</h2>
            <p><b>Fecha Registro:  </b><span id="perfilFechaRegistro"> 01/01/2024</span></p>
            <p><b>Email:  </b> <span id="perfilEmail">usuario@email.com</span></p>
            <p><b>Teléfono:  </b><span id="perfilTelefono"> +56 9 1234 5678</span></p>
          </div>
          <a href="./usuario.html"><i class="fa fa-edit editar"></i></a>
        </div>
        <div class="ingresos-card">
          <p>Ingresos</p>
          <h2>$1.200.000</h2>
          <span class="positivo">+12%</span>
        </div>
      </div>

      <!-- Tabla pedidos -->
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Cliente</th>
              <th>Producto</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>001</td>
              <td>María López</td>
              <td>Agenda 2025</td>
              <td>Pendiente</td>
            </tr>
            <tr>
              <td>002</td>
              <td>Carlos Díaz</td>
              <td>Planner Digital</td>
              <td>Completado</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Gráfico -->
      <div class="grafico">
        <div class="grafico-header">
          <h3>Actividad</h3>
          <div class="selector">
            <button class="active">Día</button>
            <button>Semana</button>
            <button>Mes</button>
            <button>Año</button>
          </div>
        </div>
        <canvas id="chart" height="100"></canvas>
      </div>

    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Chart.js
  const ctx = document.getElementById('chart');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Ene','Feb','Mar','Abr','May','Jun','Jul','Ago','Sep','Oct','Nov','Dic'],
      datasets: [{
        label: 'Actividad',
        data: [120,150,180,300,500,450,600,800,700,650,400,300],
        borderColor: 'var(--primary)',
        tension: 0.3,
        fill: false
      }]
    },
    options: { responsive: true, plugins: { tooltip: { enabled:true } } }
  });

  // Datos usuario
  const usuarioActual = JSON.parse(localStorage.getItem("usuarioActual") || "{}");

// Perfil básico
  document.getElementById("perfilNombre").textContent = usuarioActual.nombre || "Usuario";
  document.getElementById("perfilEmail").textContent = usuarioActual.email || "usuario@email.com";
  document.getElementById("tituloBienvenida").textContent = `Bienvenido, ${usuarioActual.nombre || "Usuario"}!`;

  // Imagen
  const imgPerfil = document.querySelector(".perfil-card img");
  imgPerfil.src = usuarioActual.img || "../assets/img/avatar-placeholder.png";

  // Teléfono y fecha de registro
  document.getElementById("perfilTelefono").textContent = usuarioActual.telefono || "-";
  document.getElementById("perfilFechaRegistro").textContent = usuarioActual.createdAt
    ? new Date(usuarioActual.createdAt).toLocaleDateString('es-CL')
    : "-";


</script>


</body>
</html>
