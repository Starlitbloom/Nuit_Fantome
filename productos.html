<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Productos - Nuit Fant√¥me</title>

  <link rel="stylesheet" href="assets/css/estilos.css">

  <!-- Estilos de la p√°gina de productos -->
  <style>
    /* ===== Hero ===== */
    .hero-shop{
      margin: 10px 0 24px;
      border-radius: 18px;
      padding: 32px 20px;
      text-align:center;
      color:#3a2a63;
      background:
        radial-gradient(24px 24px at 24px 24px rgba(122,99,216,.08) 25%, #f3eaff 26%) 0 0/48px 48px,
        linear-gradient(180deg, #e6dbff 0%, #d7e3ff 100%);
      box-shadow: 0 8px 24px rgba(27,26,58,.08);
      position: relative;
      overflow: hidden;
    }
    .hero-shop h1{margin:0 0 6px; font-size: clamp(1.4rem, 1.2rem + 1.2vw, 2rem);}
    .hero-shop p{margin:0; color:#5a4c86}
    .hero-badge{
      position:absolute; right:14px; top:14px;
      background:#7c3aed; color:#fff; font-weight:700;
      padding:6px 10px; border-radius:999px; font-size:.85rem;
      box-shadow:0 6px 16px rgba(124,58,237,.25)
    }

    /* ===== Toolbar (buscador + categor√≠as + ordenar) ===== */
    .toolbar{
      display:grid; gap:12px; align-items:center;
      grid-template-columns: 1fr auto;
      margin: 0 0 14px;
    }
    .search{
      display:flex; gap:8px; align-items:center;
      background:#fff; border:1px solid #e8e8ee; border-radius:12px; padding:10px 12px;
      box-shadow:0 2px 12px rgba(30,27,75,.04)
    }
    .search input{
      border:0; outline:0; width:100%; font-size:1rem; color:#2d224e; background:transparent;
    }
    .sort{
      display:flex; gap:8px; align-items:center;
      background:#fff; border:1px solid #e8e8ee; border-radius:12px; padding:10px 12px;
      box-shadow:0 2px 12px rgba(30,27,75,.04)
    }
    .sort select{border:0; outline:0; background:transparent; font-weight:600; color:#473782}

    .cat-pills{
      display:flex; flex-wrap:wrap; gap:8px; margin: 2px 0 16px;
    }
    .pill{
      border:1px solid #e8e8ee; background:#fff; color:#5a4c86; padding:8px 12px; border-radius:999px;
      font-weight:600; cursor:pointer; transition:all .15s ease; user-select:none;
      box-shadow:0 2px 10px rgba(30,27,75,.04)
    }
    .pill:hover{transform:translateY(-1px)}
    .pill.active{background:#7c3aed; border-color:#7c3aed; color:#fff}

    /* ===== Grid / Cards ===== */
    .cards{ display:grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap:16px; }
    .card{
      position:relative;
      background:#fff; border:1px solid #eee; border-radius:12px; padding:12px;
      box-shadow:0 6px 16px rgba(30,27,75,.05);
      transition:.18s ease; overflow:hidden;
    }
    .card:hover{ transform: translateY(-4px); box-shadow:0 10px 22px rgba(30,27,75,.10) }
    .card img,.card .ph{width:100%; height:220px; object-fit:cover; border-radius:10px; background:#f2f2f7}
    .card .title{color:#3a2a63; font-weight:700; text-decoration:none}
    .card .title:hover{text-decoration:underline}
    .card .price{color:#7c3aed; font-weight:800; margin:6px 0 10px}

    .badge{
      position:absolute; top:12px; left:12px;
      background:linear-gradient(90deg,#7c3aed,#a78bfa);
      color:#fff; font-weight:700; font-size:.78rem;
      padding:6px 10px; border-radius:999px; box-shadow:0 6px 16px rgba(124,58,237,.25)
    }

    .empty{
      grid-column: 1 / -1;
      border:1px dashed #d7d3ea; padding:18px; border-radius:12px; text-align:center; color:#6b5aa6;
      background:#fbfaff
    }

    @media (max-width:720px){
      .toolbar{ grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <!-- Header simple con contador -->
  <header class="header">
    <nav>
      <a href="index.html">Inicio</a>
      <a href="productos.html">Productos</a>
      <a href="blogs.html">Blogs</a>
      <a href="contacto.html">Contacto</a>
    </nav>
    <a href="carrito.html">Cart (<span id="cart-count">0</span>)</a>
  </header>

  <main class="container">

    <!-- HERO -->
    <section class="hero-shop">
      <span class="hero-badge">‚ú® colecci√≥n pastel</span>
      <h1>Productos</h1>
      <p>Explora papeler√≠a bonita con onda <strong>Nuit Fant√¥me</strong>.</p>
    </section>

    <!-- TOOLBAR -->
    <div class="toolbar">
      <div class="search">
        üîé
        <input id="q" type="search" placeholder="Busca por nombre o descripci√≥n‚Ä¶">
      </div>
      <div class="sort">
        Ordenar:
        <select id="sort">
          <option value="relevancia">Relevancia</option>
          <option value="precio-asc">Precio: menor a mayor</option>
          <option value="precio-desc">Precio: mayor a menor</option>
          <option value="nombre-asc">Nombre A‚ÄìZ</option>
        </select>
      </div>
    </div>

    <!-- CATEGOR√çAS -->
    <div id="pills" class="cat-pills"></div>

    <!-- GRID -->
    <div id="productos-grid" class="cards"></div>
  </main>

  <script>
  // === Cat√°logo ===
  const productos = [
    { id:"org01", categoria:"Organizadores", nombre:"Organizador de escritorio blanco", precio:12990, img:"assets/img/organizador.jpg.avif",
      desc:"Organizador met√°lico con caj√≥n y compartimentos; ideal para notas, l√°pices y clips." },
    { id:"washi01", categoria:"Cintas / Washi", nombre:"Set 5 washi tape ‚Äì colores mixtos", precio:3990, img:"assets/img/washi-mix5.jpg",
      desc:"Pack de 5 cintas washi de colores mixtos; papel de arroz, reposicionables, 15 mm x 5 m c/u." },
    { id:"calc01", categoria:"Calculadoras", nombre:"Calculadora compacta pastel", precio:6990, img:"assets/img/calculadora-pastel.jpg",
      desc:"Calculadora compacta con teclas suaves y dise√±o pastel; pantalla de 12 d√≠gitos." },
    { id:"washi02", categoria:"Cintas / Washi", nombre:"Washi tape ilustrada ‚ÄúVida diaria‚Äù", precio:3490, img:"assets/img/washi-vida-diaria.jpg",
      desc:"Washi ilustrada tem√°tica de vida diaria; ideal para diarios y scrap, 15 mm x 5 m." },
    { id:"washi03", categoria:"Cintas / Washi", nombre:"Set de cintas washi ‚Äì tonos pastel", precio:3990, img:"assets/img/washi-set-pastel.jpg",
      desc:"Set de cintas washi en tonos pastel; adhesivo suave sin residuos, perfecto para bullet journal." },
    { id:"cut01", categoria:"Corte", nombre:"C√∫ter mini ‚ÄúPaw‚Äù (patas de gato)", precio:2990, img:"assets/img/cutter-paw.jpg",
      desc:"C√∫ter mini con tapa en forma de pata; hoja retr√°ctil segura para papeler√≠a y paquetes." },
    { id:"cua03", categoria:"Cuadernos & Libretas", nombre:"Cuaderno ilustrado A5 ‚Äì Pinturas", precio:4990, img:"assets/img/cuaderno-pinturas.jpg",
      desc:"Cuaderno A5 con ilustraciones; 80 hojas lisas, papel 90 g, tapa dura." },
    { id:"est01", categoria:"Estuches", nombre:"Estuche Sanrio (set 4) ", precio:8990, img:"assets/img/estuche-kuromi.jpg",
      desc:"Estuche Kuromi con compartimentos y cierre resistente; capacidad para 40‚Äì60 √∫tiles." },
    { id:"est02", categoria:"Estuches", nombre:"Estuche Sanrio(set 6)", precio:8990, img:"assets/img/estuche-my-melody.jpg",
      desc:"Estuche My Melody con el√°sticos y bolsillo interno; materiales lavables y durables." },
    { id:"fab01", categoria:"L√°pices de grafito", nombre:"Set l√°pices grafito Faber-Castell", precio:18990, img:"assets/img/faber-castell-set.jpg",
      desc:"Set de l√°pices de grafito Faber-Castell (HB‚Äì2B); incluye borrador y sacapuntas." },
    { id:"gom02", categoria:"Borradores", nombre:"Borrador el√©ctrico recargable", precio:11990, img:"assets/img/goma-electrica.jpg",
      desc:"Borrador el√©ctrico recargable por USB; elimina trazos finos sin da√±ar el papel." },
    { id:"gom01", categoria:"Borradores", nombre:"Borradores degrad√© (pack 3)", precio:1990, img:"assets/img/gomas-de-colores.jpg",
      desc:"Pack de 3 gomas degrad√© libres de l√°tex; borra limpio y sin manchas." },
    { id:"lap10", categoria:"L√°pices de colores", nombre:"Set l√°pices de colores ‚Äì 10 unidades", precio:3990, img:"assets/img/lapices-10.jpg",
      desc:"Set de 10 l√°pices de color de mina suave; trazo cremoso y colores vibrantes." },
    { id:"lap25", categoria:"L√°pices de colores", nombre:"Set l√°pices de colores ‚Äì 25 unidades", precio:7990, img:"assets/img/lapices-25.jpg",
      desc:"Set de 25 l√°pices de color; minas resistentes y mezclables, ideal para ilustraci√≥n." },
    { id:"lap30", categoria:"L√°pices de colores", nombre:"Set l√°pices de colores ‚Äì 30 unidades", precio:20000, img:"assets/img/lapices-30.jpg",
      desc:"Set de 30 l√°pices de color; incluye tonos piel y pasteles, estuche r√≠gido." },
    { id:"pinc01", categoria:"Pinceles / Acuarela", nombre:"Pinceles para acuarela (pack)", precio:8990, img:"assets/img/pinceles-acuarelas.jpg",
      desc:"Pack de pinceles para acuarela con cerdas sint√©ticas finas y mangos ergon√≥micos." },
    { id:"post01", categoria:"Notas adhesivas", nombre:"Notas adhesivas Cinnamoroll / Pompompurin", precio:2990, img:"assets/img/postit-cinnamoroll-pompompurin.jpg",
      desc:"Notas adhesivas oficiales Sanrio; papel suave que pega y despega sin residuos." },
    { id:"post02", categoria:"Notas adhesivas", nombre:"Notas adhesivas Kuromi / My Melody", precio:2990, img:"assets/img/postit-kuromi-mymelody.jpg",
      desc:"Notas adhesivas con 3 dise√±os; perfectas para recordatorios y journaling." },
    { id:"post03", categoria:"Notas adhesivas", nombre:"Notas adhesivas Pochacco / Hello Kitty", precio:2990, img:"assets/img/postit-pochacco-hellokitty.jpg",
      desc:"Notas adhesivas de colores suaves; aprox. 100 hojas por bloc." },
    { id:"saca01", categoria:"Sacapuntas", nombre:"Sacapuntas + borrador 2 en 1", precio:3490, img:"assets/img/sacapuntas-borrador.jpg",
      desc:"Sacapuntas con dep√≥sito y borrador integrado; formato compacto para estuche." },
    { id:"bol01", categoria:"Bol√≠grafos", nombre:"Bol√≠grafos Sakura gel (pack)", precio:9990, img:"assets/img/sakura-boligrafos.jpg",
      desc:"Bol√≠grafos Sakura de tinta gel pigmentada; secado r√°pido y punta 0.5 mm." },
    { id:"set02", categoria:"Sets", nombre:"Set papeler√≠a ‚ÄúGato Azul‚Äù", precio:10990, img:"assets/img/set-gato-azul.jpg",
      desc:"Set tem√°tico gato azul: stickers, papeles, notas y accesorios combinados." },
    { id:"set01", categoria:"Sets", nombre:"Set papeler√≠a ‚ÄúGato Rosado‚Äù", precio:10990, img:"assets/img/set-gato-rosado.jpg",
      desc:"Set tem√°tico gato rosado; selecci√≥n coordinada para journaling y scrap." },
    { id:"washi60", categoria:"Cintas / Washi", nombre:"Set 60 washi tapes", precio:16990, img:"assets/img/set60-cintas.jpg",
      desc:"Mega set de 60 washi tapes variados; anchos y patrones mixtos para proyectos creativos." },
    { id:"clip01", categoria:"Clips / Accesorios", nombre:"Clips decorativos ‚ÄúClick‚Äù (pack)", precio:2990, img:"assets/img/set-de-click.jpg",
      desc:"Pack de clips decorativos tipo bot√≥n; pl√°stico resistente, colores surtidos." },
    { id:"tij01", categoria:"Tijeras", nombre:"Tijeras My Melody", precio:6990, img:"assets/img/tijeras-my-melody.jpg",
      desc:"Tijeras con funda, filo inoxidable y agarre c√≥modo; corte suave." },
    { id:"washi04", categoria:"Cintas / Washi", nombre:"Washi tape de flores vintage", precio:3490, img:"assets/img/washi-tape-flores.jpg",
      desc:"Washi tape de flores estilo vintage; ideal para cartas, invitaciones y scrapbooking." }
  ];

  // === Helpers ===
  const $ = s => document.querySelector(s);
  const toCLP = n => n.toLocaleString('es-CL', { style:'currency', currency:'CLP' });

  // === Carrito (localStorage) ===
  const CART_KEY = 'nf_cart';
  const loadCart = () => { try { return JSON.parse(localStorage.getItem(CART_KEY)) || []; } catch { return []; } };
  const saveCart = c => { localStorage.setItem(CART_KEY, JSON.stringify(c)); updateCartCount(); };
  const cartCount = () => loadCart().reduce((a,b)=> a + b.qty, 0);

  function updateCartCount(){ const el = $('#cart-count'); if(el) el.textContent = cartCount(); }
  function addToCart(id, qty=1){
    const cart = loadCart();
    const item = cart.find(i=>i.id===id);
    if(item) item.qty += qty; else cart.push({id, qty});
    saveCart(cart);
    alert('Producto a√±adido al carrito');
  }

  // === UI tarjetas ===
  const nuevos = new Set(productos.slice(0,4).map(p=>p.id)); // marca 4 primeros como "Nuevo"

  function renderCard(p){
    const card = document.createElement('article');
    card.className = 'card';
    const media = p.img
      ? `<a href="producto.html?id=${p.id}"><img src="${p.img}" alt="${p.nombre}" class="ph"></a>`
      : `<a href="producto.html?id=${p.id}"><div class="ph"></div></a>`;

    card.innerHTML = `
      ${nuevos.has(p.id) ? '<span class="badge">Nuevo</span>' : ''}
      ${media}
      <a class="title" href="producto.html?id=${p.id}" style="display:block;margin-top:6px">${p.nombre}</a>
      <div class="price">${toCLP(p.precio)}</div>
      <button class="btn" onclick="addToCart('${p.id}',1)">A√±adir</button>
    `;
    return card;
  }

  // === Filtros / B√∫squeda / Orden ===
  const state = { q:'', cat:'Todas', sort:'relevancia' };
  const categorias = ['Todas', ...Array.from(new Set(productos.map(p=>p.categoria)))];

  function renderPills(){
    const wrap = $('#pills'); wrap.innerHTML='';
    categorias.forEach(c=>{
      const b = document.createElement('button');
      b.className = 'pill' + (state.cat===c ? ' active' : '');
      b.textContent = c;
      b.onclick = ()=>{ state.cat=c; renderAll(); };
      wrap.appendChild(b);
    });
  }

  function filtrarLista(){
    let list = productos.slice();

    // categor√≠a
    if(state.cat !== 'Todas'){
      list = list.filter(p => p.categoria === state.cat);
    }
    // b√∫squeda
    if(state.q.trim()){
      const q = state.q.trim().toLowerCase();
      list = list.filter(p =>
        p.nombre.toLowerCase().includes(q) ||
        (p.desc||'').toLowerCase().includes(q)
      );
    }
    // ordenar
    switch(state.sort){
      case 'precio-asc':  list.sort((a,b)=>a.precio-b.precio); break;
      case 'precio-desc': list.sort((a,b)=>b.precio-a.precio); break;
      case 'nombre-asc':  list.sort((a,b)=>a.nombre.localeCompare(b.nombre)); break;
      default: /* relevancia */ break;
    }
    return list;
  }

  function renderProductosGrid(){
    const wrap = $('#productos-grid'); wrap.innerHTML='';
    const data = filtrarLista();
    if(data.length===0){
      wrap.innerHTML = `<div class="empty">No encontramos resultados con esos filtros. ¬°Prueba otra b√∫squeda o categor√≠a! ‚ú®</div>`;
      return;
    }
    data.forEach(p => wrap.appendChild(renderCard(p)));
  }

  // Entradas de la toolbar
  $('#q').addEventListener('input', e=>{ state.q = e.target.value; renderProductosGrid(); });
  $('#sort').addEventListener('change', e=>{ state.sort = e.target.value; renderProductosGrid(); });

  // === Arranque ===
  function renderAll(){ renderPills(); renderProductosGrid(); }
  updateCartCount();
  renderAll();
  </script>
</body>
</html>
